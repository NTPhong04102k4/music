/* --- Biến màu cho Sidebar --- */
:root {
    --sidebar-bg: #231b2e;
    --sidebar-text: #dadada;
    --sidebar-text-active: #ffffff;
    --sidebar-active-bg: #3a3344;
    --sidebar-indicator: #9b4de0; /* Màu tím nổi bật */
    --live-tag-bg: #e60023;       /* Màu đỏ cho tag LIVE */
}

/* --- 1. Khung Sidebar chính --- */
.zm-sidebar {
  width: 240px;
  background-color: var(--sidebar-bg);
  color: var(--sidebar-text);

  position: fixed;
  top: 0;
  left: 0;
  z-index: 100; /* Cao-hơn (Higher) Header (99) */

  /* SỬA: Không-cao (Don't be) 100vh.
    Hãy-cao (Be) 100% trừ-đi (minus) 90px của-trình-phát (player).
  */
  height: calc(100vh - 90px); 
}

/* SỬA: Đảm-bảo (Ensure) .zm-sidebar-wrapper lấp-đầy (fills) 
  chiều-cao-mới (new height) này
*/
.zm-sidebar-wrapper {
  display: flex;
  flex-direction: column;
  height: 100%;
}

/* --- 2. Logo và Thương hiệu (ĐÃ SỬA) --- */
.zm-navbar-brand {
    padding: 25px 20px; /* Tăng padding 1 chút */
    display: flex;
    flex-direction: column; /* Xếp logo và text theo chiều dọc */
    gap: 5px; /* Khoảng cách giữa logo và text */
}

.zmp3-logo {
    width: 120px;
    height: 40px;
    background-image: url(https://zjs.zmdcdn.me/zmp3-desktop/releases/v1.10.30/static/media/logo-dark.f6070b08.svg);
    background-repeat: no-repeat;
    background-size: contain;
}

/* Thêm class này cho text "MXH ÂM NHẠC" */
.zmp3-logo-subtext {
    font-size: 14px;
    font-weight: 600;
    color: var(--sidebar-text-active);
    letter-spacing: 0.5px;
    margin-left: 2px;
}

/* --- 3. Menu điều hướng chính (ĐÃ SỬA) --- */
.zm-navbar-main {
    padding: 0 20px;
}

.zm-navbar-menu {
    list-style: none;
    padding: 0;
    margin: 0;
}

.zm-navbar-item {
    margin-bottom: 5px; /* Giảm khoảng cách giữa các item */
}

.zm-navbar-item a {
    display: flex;
    align-items: center;
    text-decoration: none;
    color: var(--sidebar-text);
    padding: 12px 10px; /* Điều chỉnh padding cho cân đối */
    border-radius: 4px;
    font-size: 14px;
    font-weight: 600; /* Chữ đậm hơn */
    position: relative; /* Thêm để chứa vạch indicator */
    transition: background-color 0.2s ease, color 0.2s ease;
}

.zm-navbar-item .icon {
    margin-right: 10px;
    font-size: 20px;
}

/* Hover (khi chưa active) */
.zm-navbar-item a:hover {
    background-color: var(--sidebar-active-bg);
    color: var(--sidebar-text-active);
}

/* Trạng thái Active (Mục đang được chọn) */
.zm-navbar-item.is-active a {
    background-color: var(--sidebar-active-bg);
    color: var(--sidebar-text-active);
}

/* MỚI: Vạch indicator bên trái cho mục active */
.zm-navbar-item.is-active a::before {
    content: '';
    position: absolute;
    left: 0;
    top: 50%;
    transform: translateY(-50%);
    width: 4px;
    height: 24px; /* Chiều cao của vạch */
    background-color: var(--sidebar-indicator);
    border-radius: 0 4px 4px 0; /* Bo tròn góc ngoài */
}

/* MỚI: Style cho tag "LIVE" */
.zm-navbar-item .live-tag {
    background-color: var(--live-tag-bg);
    color: var(--sidebar-text-active);
    font-size: 10px;
    font-weight: 700;
    padding: 2px 5px;
    border-radius: 4px;
    margin-left: auto; /* Đẩy tag về phía bên phải */
}

/* --- 4. Các phần còn lại (giữ nguyên) --- */

.sidebar-divide {
    height: 1px;
    background-color: var(--sidebar-active-bg);
    margin: 15px 20px;
}

.zm-sidebar-scrollbar {
    flex: 1; /* Quan trọng: cho phép scrollbar chiếm phần còn lại */
    overflow-y: auto;
    padding: 0 20px;
}

.login-nav-container {
    margin-top: 15px;
    padding: 15px;
    background-color: #5a4b6b; /* Màu này khác với theme chính */
    border-radius: 8px;
    text-align: center;
}

.login-nav-container .text {
    margin-bottom: 10px;
}

.zm-btn.is-outlined {
    background-color: transparent;
    border: 1px solid var(--sidebar-text-active);
    color: var(--sidebar-text-active);
}

.add-playlist-sidebar {
    padding: 20px;
    border-top: 1px solid var(--sidebar-active-bg);
}

.add-playlist-sidebar .zm-btn {
    width: 100%;
    justify-content: center;
}